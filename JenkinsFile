pipeline {
    agent any

    environment {
    		DOCKERHUB_CREDENTIALS=credentials('dock')
    	}

    stages {
        stage('Récupération du code') {
            steps {
                checkout scm
            }
        }

        stage('remove old release') {
            steps {               
                sh 'mvn clean'
            }
        }

        stage('compiling') {
            steps {               
                sh 'mvn compile'
            }
        }

       
stage(' NETWORK Scan ') {
            steps {
        sh 'nmap  192.168.33.10 > scan_results.txt1 '
    }
       }
stage('  Nikto Scan ') {
            steps {
        sh 'nikto -h 192.168.33.10 -p 8080 > niktotests.txt1'
    }
       }
               

        

}
}
